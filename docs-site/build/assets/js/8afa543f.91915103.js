"use strict";(self.webpackChunktlbx_docs=self.webpackChunktlbx_docs||[]).push([[713],{8152(e,n,i){i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"developer/ui-system","title":"UI System","description":"The GrainRust UI is built using Slint, a modern declarative UI framework. It is designed to be responsive, hardware-accelerated, and deeply integrated with the Rust DSP engine.","source":"@site/docs/developer/ui-system.md","sourceDirName":"developer","slug":"/developer/ui-system","permalink":"/docs/developer/ui-system","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"title":"UI System","sidebar_position":4},"sidebar":"devSidebar","previous":{"title":"Audio Engine","permalink":"/docs/developer/audio-engine"},"next":{"title":"State & Synchronization","permalink":"/docs/developer/state-management"}}');var t=i(4848),r=i(8453);const o={title:"UI System",sidebar_position:4},l="UI System",d={},c=[{value:"Resonance Designs Slint UI Component Kit",id:"resonance-designs-slint-ui-component-kit",level:2},{value:"UI Architecture",id:"ui-architecture",level:2},{value:"1. Declarative Layouts",id:"1-declarative-layouts",level:3},{value:"2. The Rust-Slint Bridge",id:"2-the-rust-slint-bridge",level:3},{value:"Windowing and Rendering",id:"windowing-and-rendering",level:2},{value:"Developer Workflow",id:"developer-workflow",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"ui-system",children:"UI System"})}),"\n",(0,t.jsxs)(n.p,{children:["The GrainRust UI is built using ",(0,t.jsx)(n.strong,{children:"Slint"}),", a modern declarative UI framework. It is designed to be responsive, hardware-accelerated, and deeply integrated with the Rust DSP engine."]}),"\n",(0,t.jsx)(n.h2,{id:"resonance-designs-slint-ui-component-kit",children:"Resonance Designs Slint UI Component Kit"}),"\n",(0,t.jsxs)(n.p,{children:["GrainRust utilizes the ",(0,t.jsx)(n.strong,{children:"Resonance Designs Slint UI Component Kit"})," for its core interface elements. This kit provides standardized, high-performance components specifically designed for audio applications."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Standardized Components"}),": Knobs, sliders, buttons, and visualizers follow a consistent design language."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Documentation"}),": For specific details on these components, please refer to the official ",(0,t.jsx)(n.a,{href:"https://resonance-designs.com/docs/ui-kit",children:"Resonance Designs Documentation"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Integration"}),": The kit is imported into the project's ",(0,t.jsx)(n.code,{children:".slint"}),' files, allowing for a "Low Code" approach to building complex control surfaces.']}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"ui-architecture",children:"UI Architecture"}),"\n",(0,t.jsx)(n.h3,{id:"1-declarative-layouts",children:"1. Declarative Layouts"}),"\n",(0,t.jsxs)(n.p,{children:["The UI is defined in ",(0,t.jsx)(n.code,{children:".slint"})," files located in ",(0,t.jsx)(n.code,{children:"src/ui/"}),"."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"grainrust.slint"}),": The main entry point for the UI layout."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"tlbx1.slint"}),": Defines the layout for the main instrument view."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"engines/"})," and ",(0,t.jsx)(n.code,{children:"devices/"}),": Sub-components for specific sound sources and effects."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"2-the-rust-slint-bridge",children:"2. The Rust-Slint Bridge"}),"\n",(0,t.jsxs)(n.p,{children:["The connection between the Slint UI and the Rust audio engine happens in ",(0,t.jsx)(n.code,{children:"src/lib.rs"}),"."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Properties"}),": Slint properties (like slider values) are linked to Rust variables."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Callbacks"}),': UI events (like clicking "Play") trigger Rust functions via ',(0,t.jsx)(n.code,{children:"ui.on_..."})," closures."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Polling"}),": The UI thread periodically polls the audio engine for metering data and updates Slint properties to drive visualizers."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"windowing-and-rendering",children:"Windowing and Rendering"}),"\n",(0,t.jsx)(n.p,{children:"GrainRust uses a custom windowing implementation to support both standalone and plugin modes:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Standalone"}),": Uses ",(0,t.jsx)(n.code,{children:"winit"})," for window management."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Plugin"}),": Uses ",(0,t.jsx)(n.code,{children:"baseview"})," to create a child window inside the DAW's process."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Rendering Backend"}),": Leverages ",(0,t.jsx)(n.code,{children:"softbuffer"})," for cross-platform, CPU-based rendering that remains performant without requiring complex GPU drivers."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"developer-workflow",children:"Developer Workflow"}),"\n",(0,t.jsx)(n.p,{children:"To modify the UI:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Edit the relevant ",(0,t.jsx)(n.code,{children:".slint"})," files."]}),"\n",(0,t.jsxs)(n.li,{children:["If adding new parameters, ensure they are registered in the ",(0,t.jsx)(n.code,{children:"nih-plug"})," ",(0,t.jsx)(n.code,{children:"Params"})," struct in ",(0,t.jsx)(n.code,{children:"src/lib.rs"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Use ",(0,t.jsx)(n.code,{children:"cargo run"})," to preview changes in standalone mode."]}),"\n",(0,t.jsxs)(n.li,{children:["For rapid component testing, use the ",(0,t.jsx)(n.code,{children:"testing_grounds.slint"})," environment."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},8453(e,n,i){i.d(n,{R:()=>o,x:()=>l});var s=i(6540);const t={},r=s.createContext(t);function o(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);